#Inicialmente me paro en la carpeta dispuesta para el seguimiento uno y corro el codigo para descragar mi archivo correspondiente solo utilizando liea de comandos
wget ftp://ftp.ensembl.org/pub/current_gff3/apteryx_haastii/Apteryx_haastii.aptHaa1.114.gff3.gz

#Luego vamos a descomprimir el archivo con el siguiente codigo
gunzip Apteryx_haastii.aptHaa1.114.gff3.gz

#Luego me quedara de esta manera el archivo
Apteryx_haastii.aptHaa1.114.gff3 

#Para averiguar cuantos feactures tiene el archivo corremos el siguiente codigo que nos permite contar el numero de lineas, excluyendo aquellas que comienzan con # pues estas representan comentarios
grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 | wc -l
#grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 excluye las lineas del archivo que comienzan con #
#Mientras que | wc -l me las cuenta

#Para saber cuantas regiones de la secuencia (cromosomas) contiene el archivo corremos el siguiente codigo
grep "##sequence-region" Apteryx_haastii.aptHaa1.114.gff3 | wc -l
#Este codigo esta compuesto de grep "##sequence-region" Apteryx_haastii.aptHaa1.114.gff3, que toma las lineas que hacen match con esta linea
#Luego tiene | wc -l; el pipe para conectar los comandos y el wc -l para contar la cantidad de lineas

#Para saber cuantos genes estan listados en el organismo corremos el siguiente codigo
grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 | awk '$3 ~ /gene/' | wc -l
#Este codigo esta compuesto de grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 excluye las lineas del archivo que comienzan con #, porque son comentarios
#Luego tiene |  awk '$3 ~ /gene/' ; el pipe para conectar los comandos y el awk para procesar texto en tablas y campos. Este ultimo comando busca la columna 3 de la tabla ($3) y selecciona aquello que contenga la palabra gene. OJO! no exclusivamente gene sino cualquier frase en la columna 3 (la de type) con ella (ej: gene, pseudo_gene, tRNA_gene, etc.).
#Finalmente | wc -l me cuenta esas lineas que incluyen gene
#Otra manera de hacerlo es con el código
grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 | cut -f3 | grep "gene" | sort | uniq -c | sort -r
#Donde después de quitarme los comentarios se utiliza cut -f3 (para que tome en cuenta solo la columna 3), grep "gene" (para que ahí busque las frases que digan gene, sean compuestas o no), sort (organícelas alfabéticamente), uniq -c luego me muestra la cantidad de veces que se repiten estas palabras / campos y, finalmente, sort -nr organiza esas categorias de mayor a menor repetidas, orden descendente.

#Finalmente, para poder entregar el top 10 de tipo de features (columna 3) mas anotados en el genoma, corremos el siguiente codigo
grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 | awk '{print $3}' | sort | uniq -c | sort -nr | head -10
#Este codigo esta compuesto de grep -v "^#" Apteryx_haastii.aptHaa1.114.gff3 excluye las lineas del archivo que comienzan con #, porque son comentarios
#Luego tiene | awk '{print $3}' ; el pipe para conectar los comandos y el awk '{print $3}' para que se tome en cuenta solo la columna 3, que habla del feature
#Sort nos permite organizar la columna en orden alfabetico para que luego, uniq me muestre las categorias y el uniq -c , me muestre la cantidad de cosas en esa categoria
#Luego sort -nr organiza esas categorias de mayor a menor repetidas, orden descendente
#Finalmente head -10 nos imprime las primeras 10 categorias en la lista que creamos con las veces que se repiten


